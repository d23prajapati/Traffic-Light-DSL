<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="trafficLightSystem" nsURI="http://www.example.org/trafficLightSystem"
    nsPrefix="trafficLightSystem">
  <eClassifiers xsi:type="ecore:EClass" name="TrafficLightSystem">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="systemstructure" eType="#//SystemStructure"
        containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="trafficControllers" upperBound="-1"
        eType="#//TrafficController" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SystemStructure">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="board" eType="#//Board"
        containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="components" upperBound="-1"
        eType="#//Component" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="connections" upperBound="-1"
        eType="#//Connection" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Board">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="pinGroups" upperBound="-1"
        eType="#//PinGroup" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Component" abstract="true">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Pin">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="pinNr" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="type" eType="#//PinType"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="PinType">
    <eLiterals name="DIGITAL_IN"/>
    <eLiterals name="DIGITAL_OUT" value="1"/>
    <eLiterals name="ANALOG_IN" value="2"/>
    <eLiterals name="ANALOG_OUT" value="3"/>
    <eLiterals name="INTERRUPT" value="4"/>
    <eLiterals name="GND" value="5"/>
    <eLiterals name="VCC" value="6"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Connection">
    <eStructuralFeatures xsi:type="ecore:EReference" name="src" eType="#//Pin"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="target" eType="#//Pin"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TrafficController">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="trafficLights" upperBound="4"
        eType="#//TrafficLight" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="cycle" eType="#//TrafficCycle"
        containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="pedestrianControllers"
        upperBound="4" eType="#//PedestrianController" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TrafficLightModule" eSuperTypes="#//Component">
    <eStructuralFeatures xsi:type="ecore:EReference" name="pinGroups" upperBound="-1"
        eType="#//PinGroup" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="LED" eSuperTypes="#//Component">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="color" eType="#//LightColor"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="pinGroups" upperBound="-1"
        eType="#//PinGroup" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Button" eSuperTypes="#//Component">
    <eStructuralFeatures xsi:type="ecore:EReference" name="pinGroups" upperBound="-1"
        eType="#//PinGroup" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TrafficLight">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="direction" eType="#//Direction"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="module" upperBound="-1"
        eType="#//TrafficLightModule"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TrafficCycle">
    <eStructuralFeatures xsi:type="ecore:EReference" name="trafficstate" lowerBound="1"
        upperBound="-1" eType="#//TrafficState" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="Direction">
    <eLiterals name="NORTH"/>
    <eLiterals name="EAST" value="1"/>
    <eLiterals name="WEST" value="2"/>
    <eLiterals name="SOUTH" value="3"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PedestrianController">
    <eStructuralFeatures xsi:type="ecore:EReference" name="requestState" lowerBound="1"
        upperBound="-1" eType="#//TrafficState"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="redLED" lowerBound="1"
        eType="#//LED"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="greenLED" lowerBound="1"
        eType="#//LED"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="button" eType="#//Button"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TrafficState">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2003/XMLType#//String"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="duration" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="activeTrafficLights" lowerBound="1"
        upperBound="-1" eType="#//TrafficLight"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="activeColor" eType="#//LightColor"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="next" upperBound="-1" eType="#//TrafficState"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="LightColor">
    <eLiterals name="RED"/>
    <eLiterals name="YELLOW" value="1"/>
    <eLiterals name="GREEN" value="2"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PinGroup"/>
</ecore:EPackage>
